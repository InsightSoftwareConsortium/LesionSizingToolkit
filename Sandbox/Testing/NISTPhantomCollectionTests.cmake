
SET(COLLECTION_PATH ${TEST_NIST_DATA_ROOT} )

MACRO(TEST_NIST_PHANTOM_DATASET DATASET_ID ROI_X ROI_Y ROI_Z ROI_DX ROI_DY ROI_DZ)

SET(DATASET_ROI ${TEMP}/${DATASET_ID}_ROI.mha)

EXTRACT_REGION_OF_INTEREST( ${DATASET_ID} ${ROI_X} ${ROI_Y} ${ROI_Z} ${ROI_DX} ${ROI_DY} ${ROI_DZ} )
GENERATE_FEATURES( ${DATASET_ID} )
SCREEN_SHOT_FEATURES( ${DATASET_ID} 001 )

ENDMACRO(TEST_NIST_PHANTOM_DATASET)


CONVERT_DICOM_TO_META( ${COLLECTION_PATH} NIST001 "BX0317/20000101-135244-7-1")
CONVERT_DICOM_TO_META( ${COLLECTION_PATH} NIST002 "BX0317/20000101-134759-4-1")
CONVERT_DICOM_TO_META( ${COLLECTION_PATH} NIST003 "BX0317/20000101-135244-7-1")
CONVERT_DICOM_TO_META( ${COLLECTION_PATH} NIST004 "BX0317/20000101-135244-7-1")

#
# Extract ROI and compute features for it
#
TEST_NIST_PHANTOM_DATASET(NIST001 
  168 291 109
   68  41  26
  )

TEST_NIST_PHANTOM_DATASET(NIST002 
  310 400  90
   20  20  20
  )

TEST_NIST_PHANTOM_DATASET(NIST003 
  310 405 120 
   60  30 110
  )

TEST_NIST_PHANTOM_DATASET(NIST004 
  163 190 44 
   80  40 110
  )


#
# From the same feature images and ROI, use different sets of seed points
#
COMPUTE_SEGMENTATIONS( NIST001 001 )
COMPUTE_SEGMENTATIONS( NIST001 002 )
COMPUTE_SEGMENTATIONS( NIST001 003 )

COMPUTE_SEGMENTATIONS( NIST002 001 )

COMPUTE_SEGMENTATIONS( NIST003 001 )
COMPUTE_SEGMENTATIONS( NIST003 002 )
COMPUTE_SEGMENTATIONS( NIST003 003 )
COMPUTE_SEGMENTATIONS( NIST003 004 )
COMPUTE_SEGMENTATIONS( NIST003 005 )
COMPUTE_SEGMENTATIONS( NIST003 006 )

COMPUTE_SEGMENTATIONS( NIST003 007 )
COMPUTE_SEGMENTATIONS( NIST003 008 )
COMPUTE_SEGMENTATIONS( NIST003 009 )
COMPUTE_SEGMENTATIONS( NIST003 010 )
COMPUTE_SEGMENTATIONS( NIST003 011 )
COMPUTE_SEGMENTATIONS( NIST003 012 )

COMPUTE_SEGMENTATIONS( NIST003 013 )
COMPUTE_SEGMENTATIONS( NIST003 014 )
COMPUTE_SEGMENTATIONS( NIST003 015 )
COMPUTE_SEGMENTATIONS( NIST003 016 )
COMPUTE_SEGMENTATIONS( NIST003 017 )
COMPUTE_SEGMENTATIONS( NIST003 018 )

COMPUTE_SEGMENTATIONS( NIST004 001 )
COMPUTE_SEGMENTATIONS( NIST004 002 )
COMPUTE_SEGMENTATIONS( NIST004 003 )
COMPUTE_SEGMENTATIONS( NIST004 004 )
COMPUTE_SEGMENTATIONS( NIST004 005 )
COMPUTE_SEGMENTATIONS( NIST004 006 )

COMPUTE_SEGMENTATIONS( NIST004 007 )
COMPUTE_SEGMENTATIONS( NIST004 008 )
COMPUTE_SEGMENTATIONS( NIST004 009 )
COMPUTE_SEGMENTATIONS( NIST004 010 )
COMPUTE_SEGMENTATIONS( NIST004 011 )
COMPUTE_SEGMENTATIONS( NIST004 012 )

COMPUTE_SEGMENTATIONS( NIST004 013 )
COMPUTE_SEGMENTATIONS( NIST004 014 )
COMPUTE_SEGMENTATIONS( NIST004 015 )
COMPUTE_SEGMENTATIONS( NIST004 016 )
COMPUTE_SEGMENTATIONS( NIST004 017 )
COMPUTE_SEGMENTATIONS( NIST004 018 )

